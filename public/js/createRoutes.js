function createRoutes(){
  const dbName = "SDB";
  saveNav();
  //using JQuery's extend function to copy array value and not the reference
  var navNodes = $.extend(true, [], navDiagram.model.nodeDataArray),
      routes = "";

  for ( var pageToRouteI = 0; pageToRouteI < navNodes.length; pageToRouteI++ ){
  	if (navNodes[pageToRouteI].category == "MainPage" || navNodes[pageToRouteI].category == "Page" ){

	    var fileName = navNodes[pageToRouteI].name.toLowerCase().split(" ").join("_");

	    var getLine = "router.get('/#{name}', function(req, res) {";
	    if (navNodes[pageToRouteI].category == "MainPage"){ // For MainPage we set the route to '/'
	      getLine = "router.get('/', function (req, res) {";
	    };

	    var routerTemplate = getLine + '\n' +
	    "  res.render('rendered/#{name}', { title: '#{pageName}' });"+ '\n' +
	    "});"+ '\n';

	    var routerValues = { name: fileName, pageName: navNodes[pageToRouteI].name };
	    var route = $.tmpl(routerTemplate, routerValues);
	    routes += route;
  	}
  }

  var createTablesRouteTemp = 
    'router.get("/createTables", function(req, res){'+ '\n' +
    " #{dbName}.createTables();"+ '\n' +
    " res.end();"+ '\n' +
    "});"+ '\n';
  var createTablesRouteVals = { dbName: dbName };
  var createTablesRoutes = $.tmpl(createTablesRouteTemp, createTablesRouteVals);

  routes += createTablesRoutes;

  //Create render.js file which contains routes to the new files and gateways 
  var routerContentTemplate = 
  "var express = require('express');" + '\n' +
  "var router = express.Router();" + '\n' +
  "var #{dbName} = require('../models/db');" + '\n' +
  "//below autogenerated routes" + '\n' +
  "#{routes}"+ '\n' +
  "module.exports = router;"+ '\n';

  var routerContentValues = { routes: routes, dbName: dbName };
  var routerContent = $.tmpl(routerContentTemplate, routerContentValues);
  //call function to create router for render
  createFile(routerContent, "render.js", '../routes/', "script" );

  $('#PlayButton').prop('disabled', false); //Enable step 2
}